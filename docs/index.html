<!doctype html>
<html>

  <head>
    <title>COVID-19 Virus Outbreak in Greece</title>
    <meta name="description" content="Data about the COVID-19 outbreak in Greece" />
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500&display=swap" rel="stylesheet">
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <style>
      * {
        font-family: 'Montserrat', sans-serif;
      }

      h1 {
        font-weight: 400;
        font-size: 24px;
        margin: 0;
        padding: 4px 8px 0;
        height: 24px;
        line-height: 1;
      }

      p {
        font-size: 12px;
        margin: 0;
        padding: 4px 8px 0;
        height: 16px;
        line-height: 1;
      }

      body {
        padding: 8px;
        margin: 0;
      }

      .stat-box {
        border: 1px solid rgb(153, 153, 153);
      }

      .stat-name {
        text-transform: uppercase;
        line-height: 1;
        font-size: 18px;
        color: #4D4D4D;
        font-weight: 400;
        margin: 8px 32px;
      }

      .stat-value {
        font-weight: 500;
        font-size: 32px;
        line-height: 1;
        height: calc(100% - 64px);
        margin: 8px 32px;
      }

      .stat-diff {
        margin: 8px 32px;
        color: #f44336;
        font-size: 14px;
        text-align: right;
      }

      .stat-diff.reverse {
        color: #388e3c;
      }

      .stat-wrapper {
        margin: 0;
        padding: 16px 8px;
        width: calc(100vw - 16px - 16px);
        height: calc(100vh - 26px - 24px - 32px - 16px);
        display: grid;
        grid-template-columns: 1fr 1fr 1fr 1fr;
        grid-template-rows: 1fr 4fr 3fr;
        grid-row-gap: 20px;
        grid-column-gap: 20px;
      }

      @media (max-width: 767px) {
        .stat-wrapper {
          grid-template-columns: 1fr;
          grid-template-rows: 0.25fr 0.25fr 0.25fr 0.25fr 3fr 1.5fr 1.5fr;
          height: 300vh;
          width: calc(100vw - 16px - 24px);
        }

        h1 {
          margin-bottom: 16px;
        }
      }

      @media (min-width: 768px) {
        #cases-graph {
          grid-column-start: 1;
          grid-column-end: 4;
          grid-row-start: 2;
          grid-row-end: 4;
        }
      }

      li.tooltip-line {
        font-size: 11px;
        color: #000000;
        opacity: 1;
        margin: 0;
        font-style: none;
        text-decoration: none;
      }

      li.tooltip-line:first-child {
        font-weight: bold;
      }

    </style>
    <script type="text/javascript">
      google.charts.load("current", {
        packages: ["corechart"]
      });
      google.charts.setOnLoadCallback(drawCharts);
      function drawCharts() {

        var genderData = google.visualization.arrayToDataTable([
          ['Gender', 'Cases by Gender'],
              ["Male", 1368],
              ["Female", 1032],
        ]);

        var genderOptions = {
          title: 'Gender',
          pieHole: 0.5,
          colors: ['#64b5f6', '#f8bbd0'],
          legend: {
            position: 'bottom'
          },
          titleTextStyle: {
            fontSize: 20,
            bold: false
          },
          pieSliceTextStyle: {
            color: '#000',
            fontSize: 14
          },
          chartArea: {
            top: '12.5%',
            left: '12.5%',
            width: '75%',
            height: '75%'
          }
        };

        var genderChart = new google.visualization.PieChart(document.getElementById('gender-pie'));
        genderChart.draw(genderData, genderOptions);

        var ageData = google.visualization.arrayToDataTable([
          ['Age Group', 'Age Distribution'],
              ["65+", 0.213],
              ["40-64", 0.454],
              ["18-39", 0.305],
              ["0-17", 0.028],
        ]);

        var ageView = new google.visualization.DataView(ageData);
        ageView.setColumns([0, 1,
          {
            calc: (dataTable, rowNum) => `${(dataTable.getValue(rowNum, 1)*100).toFixed(1)}%`,
            sourceColumn: 1,
            type: 'string',
            role: 'annotation'
          },
          {
            calc: (dataTable, rowNum) => `<ul class="google-visualization-tooltip-item-list"><li class="tooltip-line google-visualization-tooltip-item">${dataTable.getValue(rowNum, 0)}</li><li class="tooltip-line google-visualization-tooltip-item">Age Distribution: <strong>${(dataTable.getValue(rowNum, 1)*100).toFixed(1)}%</strong></li></ul>`,
            sourceColumn: 1,
            type: 'string',
            role: 'tooltip',
            properties: {
              html: true
            }
          }
        ]);

        var ageOptions = {
          tooltip: {
            isHtml: true
          },
          hAxis: {
            format: 'percent'
          },
          bar: {
            groupWidth: '95%'
          },
          legend: {
            position: 'top',
            maxLines: 2
          },
          colors: ['rgb(240, 98, 146)']
        };

        var ageChart = new google.visualization.BarChart(document.getElementById('age-graph'));
        ageChart.draw(ageView, ageOptions);

        var caseData = google.visualization.arrayToDataTable([
          ['DATE', 'ACTIVE CASES', 'REPORTED', 'CRITICAL', 'RECOVERED', 'DECEASED'],
              ["2/26/20", 1, 1, 0, 0, 0],
              ["2/27/20", 3, 2, 0, 0, 0],
              ["2/28/20", 4, 1, 0, 0, 0],
              ["2/29/20", 4, 0, 0, 0, 0],
              ["3/1/20", 7, 3, 0, 0, 0],
              ["3/2/20", 7, 0, 0, 0, 0],
              ["3/3/20", 7, 0, 0, 0, 0],
              ["3/4/20", 9, 2, 1, 0, 0],
              ["3/5/20", 31, 22, 1, 0, 0],
              ["3/6/20", 45, 14, 2, 0, 0],
              ["3/7/20", 46, 1, 2, 0, 0],
              ["3/8/20", 73, 27, 2, 0, 0],
              ["3/9/20", 73, 0, 3, 0, 0],
              ["3/10/20", 89, 16, 4, 0, 0],
              ["3/11/20", 98, 10, 6, 0, 1],
              ["3/12/20", 98, 0, 6, 0, 0],
              ["3/13/20", 189, 91, 9, 0, 0],
              ["3/14/20", 217, 38, 9, 8, 2],
              ["3/15/20", 319, 103, 11, 0, 1],
              ["3/16/20", 319, 0, 16, 0, 0],
              ["3/17/20", 374, 56, 18, 0, 1],
              ["3/18/20", 405, 31, 24, 0, 0],
              ["3/19/20", 404, 0, 29, 0, 1],
              ["3/20/20", 470, 77, 33, 11, 0],
              ["3/21/20", 498, 35, 36, 0, 7],
              ["3/22/20", 590, 94, 45, 0, 2],
              ["3/23/20", 659, 71, 49, 0, 2],
              ["3/24/20", 694, 48, 54, 10, 3],
              ["3/25/20", 763, 78, 59, 7, 2],
              ["3/26/20", 830, 71, 61, 0, 4],
              ["3/27/20", 886, 74, 70, 16, 2],
              ["3/28/20", 977, 95, 71, 0, 4],
              ["3/29/20", 1066, 95, 69, 0, 6],
              ["3/30/20", 1117, 56, 72, 0, 5],
              ["3/31/20", 1213, 102, 85, 0, 6],
              ["4/1/20", 1313, 101, 90, 0, 1],
              ["4/2/20", 1430, 129, 91, 9, 3],
              ["4/3/20", 1472, 69, 92, 17, 10],
              ["4/4/20", 1527, 60, 92, 0, 5],
              ["4/5/20", 1584, 62, 93, 0, 5],
              ["4/6/20", 1407, 20, 90, 191, 6],
              ["4/7/20", 1482, 77, 90, 0, 2],
              ["4/8/20", 1532, 52, 83, 0, 2],
              ["4/9/20", 1599, 71, 79, 0, 4],
              ["4/10/20", 1650, 56, 77, 0, 5],
              ["4/11/20", 1719, 70, 75, 0, 1],
              ["4/12/20", 1747, 33, 76, 0, 5],
              ["4/13/20", 1777, 31, 73, 0, 1],
              ["4/14/20", 1800, 25, 73, 0, 2],
              ["4/15/20", 1821, 22, 72, 0, 1],
              ["4/16/20", 1833, 15, 69, 0, 3],
              ["4/17/20", 1847, 17, 69, 0, 3],
              ["4/18/20", 1856, 11, 69, 0, 2],
              ["4/19/20", 1853, 0, 69, 0, 3],
              ["4/20/20", 1860, 10, 69, 0, 3],
              ["4/21/20", 1703, 156, 69, 308, 5],
        ]);

        var caseOptions = {
          title: 'Number of Cases',
          colors: ['#ffa800', '#0072f0', '#d32f2f', '#00b6cb', '#434343'],
          legend: {
            alignment: 'end'
          },
          titleTextStyle: {
            fontSize: 20,
            bold: false
          },
          curveType: 'function',
          seriesType: 'bars',
          isStacked: true,
          vAxes: {
            0: {
              logScale: false,
              minValue:0,
              viewWindow: {
                min: 0
              }
            },
            1: {
              logScale: false,
              minValue:0,
              viewWindow: {
                min: 0
              }
            }
          },
          series: {
            0: {
              type: 'line',
              targetAxisIndex: 1
            },
            2: {
              type: 'line',
              targetAxisIndex: 0
            },
            4: {
              type: 'line',
              targetAxisIndex: 0
            }
          },
          chartArea: {
            top: '12.5%',
            left: '12.5%',
            width: '75%',
            height: '75%'
          }
        };

        var caseChart = new google.visualization.ComboChart(document.getElementById('cases-graph'));
        caseChart.draw(caseData, caseOptions);

      }
      window.addEventListener('resize', () => drawCharts());

    </script>
  </head>

  <body>
    <h1>COVID-19 Virus Outbreak in Greece</h1>
    <div class="stat-wrapper">
      <div id="total-cases-counter" class="stat-box">
        <h2 class="stat-name">Total cases</h2>
        <p class="stat-value">2401</p>
        <p class="stat-diff "><svg id="Layer_1" version="1.1" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="4 0 16 24" enable-background="new 0 0 24 24" style=" vertical-align: bottom; transform: scale(0.7, 0.8); fill: rgb(244, 67, 54); height: 14px;" x="0px" y="0px" ng-style="{'fill': compareDelta.deltaColor,
          'height': $ctrl.svgHeight}" ng-if="compareDelta.deltaDirection === '+'" class="ng-scope">
            <polygon points="12,2.7 5,9.7 8,9.7 8,13 16,13 16,9.7 19,9.7 "></polygon>
            <rect x="8" y="14" width="8" height="3"></rect>
            <polyline points="16,20 16,18 8,18 8,20 "></polyline>
            <polyline points="16,22 16,21 8,21 8,22 "></polyline>
          </svg>6.95%</p>
      </div>
      <div id="active-cases-counter" class="stat-box">
        <h2 class="stat-name">Active cases</h2>
        <p class="stat-value">1703</p>
        <p class="stat-diff reverse"><svg id="Layer_1" version="1.1" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="4 0 16 24" enable-background="new 0 0 24 24" style=" vertical-align: bottom; transform: scale(0.7, 0.8) rotate(180deg); fill: rgb(56, 142, 60); height: 14px;" x="0px" y="0px" ng-style="{'fill': compareDelta.deltaColor,
          'height': $ctrl.svgHeight}" ng-if="compareDelta.deltaDirection === '+'" class="ng-scope">
            <polygon points="12,2.7 5,9.7 8,9.7 8,13 16,13 16,9.7 19,9.7 "></polygon>
            <rect x="8" y="14" width="8" height="3"></rect>
            <polyline points="16,20 16,18 8,18 8,20 "></polyline>
            <polyline points="16,22 16,21 8,21 8,22 "></polyline>
          </svg>-8.44%</p>
      </div>
      <div id="deceased-cases-counter" class="stat-box">
        <h2 class="stat-name">Deceased</h2>
        <p class="stat-value">121</p>
        <p class="stat-diff "><svg id="Layer_1" version="1.1" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="4 0 16 24" enable-background=" new 0 0 24 24" style="vertical-align: bottom; transform: scale(0.7, 0.8); fill: rgb(244, 67, 54); height: 14px;" x="0px" y="0px" ng-style="{'fill': compareDelta.deltaColor,
          'height': $ctrl.svgHeight}" ng-if="compareDelta.deltaDirection === '+'" class="ng-scope">
            <polygon points="12,2.7 5,9.7 8,9.7 8,13 16,13 16,9.7 19,9.7 "></polygon>
            <rect x="8" y="14" width="8" height="3"></rect>
            <polyline points="16,20 16,18 8,18 8,20 "></polyline>
            <polyline points="16,22 16,21 8,21 8,22 "></polyline>
          </svg>4.31%</p>
      </div>
      <div id="discharged-cases-counter" class="stat-box">
        <h2 class="stat-name">Discharged</h2>
        <p class="stat-value">577</p>
        <p class="stat-diff reverse"><svg id="Layer_1" version="1.1" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="4 0 16 24" enable-background="new 0 0 24 24" style=" vertical-align: bottom; transform: scale(0.7, 0.8); fill: rgb(56, 142, 60); height: 14px;" x="0px" y="0px" ng-style="{'fill': compareDelta.deltaColor,
          'height': $ctrl.svgHeight}" ng-if="compareDelta.deltaDirection === '+'" class="ng-scope">
            <polygon points="12,2.7 5,9.7 8,9.7 8,13 16,13 16,9.7 19,9.7 "></polygon>
            <rect x="8" y="14" width="8" height="3"></rect>
            <polyline points="16,20 16,18 8,18 8,20 "></polyline>
            <polyline points="16,22 16,21 8,21 8,22 "></polyline>
          </svg>114.50%</p>
      </div>
      <div id="cases-graph" class="stat-box">

      </div>
      <div id="gender-pie" class="stat-box">

      </div>
      <div id="age-graph" class="stat-box">

      </div>
    </div>
    <p>Designed and developed by 
    <a href="https://github.com/Trinityyi">Isabelle Viktoria Maciohsek</a> &copy; 2020 / 
    <a href="https://github.com/Trinityyi/COVID-19-Greece">Source code</a>
    </p>
  </body>

</html>
